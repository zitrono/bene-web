<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>iOS Debug</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: -apple-system, sans-serif;
            background: #282828;
            color: white;
        }
        .debug-info {
            background: rgba(255,255,255,0.1);
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
        }
        .test-button {
            display: inline-block;
            padding: 10px 20px;
            background: #ffdc61;
            color: #000;
            border: none;
            border-radius: 5px;
            margin: 10px 0;
            font-size: 16px;
        }
        #output {
            white-space: pre-wrap;
            font-family: monospace;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <h1>iOS Debug Tool</h1>
    
    <div class="debug-info">
        <strong>User Agent:</strong>
        <div id="userAgent"></div>
    </div>
    
    <div class="debug-info">
        <strong>Viewport:</strong>
        <div id="viewport"></div>
    </div>
    
    <div class="debug-info">
        <strong>Touch Support:</strong>
        <div id="touchSupport"></div>
    </div>
    
    <button class="test-button" onclick="testMenuBehavior()">Test Menu Behavior</button>
    
    <div class="debug-info">
        <strong>Test Output:</strong>
        <div id="output"></div>
    </div>
    
    <iframe src="/index.html" style="width: 100%; height: 400px; border: 1px solid #666; margin-top: 20px;"></iframe>

    <script>
        // Display debug info
        document.getElementById('userAgent').textContent = navigator.userAgent;
        document.getElementById('viewport').textContent = `${window.innerWidth} x ${window.innerHeight}`;
        document.getElementById('touchSupport').textContent = 'ontouchstart' in window ? 'Yes' : 'No';
        
        function log(message) {
            document.getElementById('output').textContent += message + '\n';
        }
        
        function testMenuBehavior() {
            log('--- Testing Menu Behavior ---');
            
            try {
                const iframe = document.querySelector('iframe');
                const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
                
                // Find hamburger in iframe
                const hamburger = iframeDoc.querySelector('.mobile-menu-toggle');
                const menu = iframeDoc.querySelector('.nav-menu');
                const body = iframeDoc.body;
                
                log('Hamburger found: ' + (hamburger ? 'Yes' : 'No'));
                log('Menu found: ' + (menu ? 'Yes' : 'No'));
                
                if (hamburger) {
                    // Log initial state
                    log('Initial menu state: ' + (menu.classList.contains('active') ? 'Open' : 'Closed'));
                    log('Body classes: ' + body.className);
                    
                    // Simulate click
                    hamburger.click();
                    
                    // Log after click
                    setTimeout(() => {
                        log('After click - Menu state: ' + (menu.classList.contains('active') ? 'Open' : 'Closed'));
                        log('After click - Body classes: ' + body.className);
                        
                        // Check computed styles
                        const menuStyles = window.getComputedStyle(menu);
                        log('Menu background: ' + menuStyles.backgroundColor);
                        log('Menu position: ' + menuStyles.position);
                        log('Menu z-index: ' + menuStyles.zIndex);
                    }, 100);
                }
            } catch (e) {
                log('Error: ' + e.message);
            }
        }
        
        // Auto-run test after iframe loads
        window.addEventListener('load', () => {
            setTimeout(testMenuBehavior, 1000);
        });
    </script>
</body>
</html>